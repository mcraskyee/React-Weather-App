<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Guess a number from 1 to 100</title>
    <style></style>
    <script>
        let num = parseInt(prompt("Please enter a number from 1-100"));
        while(num<1 || num>100) {
            alert("your number is invalid.");
            num = parseInt(prompt("Please enter a number from 1-100"));
        }
    </script>
</head>
<body>
    <header class="header">Guess a number from 1 to 100</header>

    <div>
        <label class="label" for="number" id="label">
        Please enter a number to match
        </label>
        <input class="input" for="number" id="input" placeholder="1-100">
        <button class="button" for="number" id="button">Confirm!</button>
    </div>

    <div>
        <p>Your result is:</p>
        <p class="result" id="result"></p>
    </div>

    <script>
        document.getElementById("button").addEventListener("click", function() {
            let inputNum = parseInt(document.getElementById("input").value);
            
            if (inputNum < 1 || inputNum > 100) {
                document.getElementById("result").innerHTML = inputNum + " is an invalid number. Please input a number from 1-100.";
            }
            else if (inputNum === num) {
                document.getElementById("result").innerHTML = "You got it! The number is " + num + "."
            } 
            else {getLimitation(inputNum)}
        });

        let minValue = 1;
        let maxValue = 100;

        function getLimitation (inputNum) {
            if(inputNum<num){
                minValue = Math.max(minValue, inputNum);//当inputNum<num时，比较1和inputNum谁更大
            } else {
                maxValue = Math.min(maxValue, inputNum);//当inputNum>=num时，比较100和inputNum谁更小
            }
            document.getElementById("result").innerHTML = "Your limitation is from " + minValue + " to " + maxValue + ".";
        }
    </script>
</body>
</html>

<!-- // while (num>=1 && num<=100) {
    //     if (inputNum<1 || inputNum>100) {
    //         document.getElementById("button").addEventListener("click", invalidInputNum)
    //         function invalidInputNum(){
    //             document.getElementById("result").innerHTML = inputNum + "is an invalid number, please input a number from 1-100"
    //         }
    //     }
    // }
    //单纯的判定用不到while循环，而且这样写，网页会完全消失，因为在页面加载时会无限循环。
    //就算需要while循环，到后面再加

    //把button的eventlistener写在最外面，直接接函数，才能确保页面正常运行。 -->
